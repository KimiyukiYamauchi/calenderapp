module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},34150,(a,b,c)=>{"use strict";b.exports=a.r(96048).vendored.contexts.HooksClientContext},31721,(a,b,c)=>{"use strict";b.exports=a.r(96048).vendored.contexts.ServerInsertedHtml},28340,a=>{a.v({button:"Schedule-module__I33aDW__button",buttonDanger:"Schedule-module__I33aDW__buttonDanger",buttonPrimary:"Schedule-module__I33aDW__buttonPrimary",buttonSecondary:"Schedule-module__I33aDW__buttonSecondary",buttons:"Schedule-module__I33aDW__buttons",card:"Schedule-module__I33aDW__card",cardBadge:"Schedule-module__I33aDW__cardBadge",cardCompleted:"Schedule-module__I33aDW__cardCompleted",cardDescription:"Schedule-module__I33aDW__cardDescription",cardHeader:"Schedule-module__I33aDW__cardHeader",cardMeta:"Schedule-module__I33aDW__cardMeta",cardTitle:"Schedule-module__I33aDW__cardTitle",checkbox:"Schedule-module__I33aDW__checkbox",colorOption:"Schedule-module__I33aDW__colorOption",colorPicker:"Schedule-module__I33aDW__colorPicker",empty:"Schedule-module__I33aDW__empty",error:"Schedule-module__I33aDW__error",form:"Schedule-module__I33aDW__form",formGroup:"Schedule-module__I33aDW__formGroup",input:"Schedule-module__I33aDW__input",label:"Schedule-module__I33aDW__label",list:"Schedule-module__I33aDW__list",listHeader:"Schedule-module__I33aDW__listHeader",listTitle:"Schedule-module__I33aDW__listTitle",nonInteractive:"Schedule-module__I33aDW__nonInteractive",required:"Schedule-module__I33aDW__required",scheduleItems:"Schedule-module__I33aDW__scheduleItems",select:"Schedule-module__I33aDW__select",selected:"Schedule-module__I33aDW__selected",textarea:"Schedule-module__I33aDW__textarea",timeRow:"Schedule-module__I33aDW__timeRow"})},95503,a=>{"use strict";var b=a.i(56993),c=a.i(91108),d=a.i(3859),e=a.i(28340);function f(a,b){return(a.date+a.startTime).localeCompare(b.date+b.startTime)}function g(){let a=(0,d.useRouter)(),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null);async function m(){j(!0),l(null);try{let a=await fetch("/api/schedules"),b=await a.json();if(!b?.success){l(b?.error||"予定の取得に失敗しました"),h([]);return}let c=b.data||[];h(function(a){let b=new Map;for(let c of a){let a=c.title||"(無題)",d=b.get(a)||[];d.push(c),b.set(a,d)}return Array.from(b.entries()).map(([a,b])=>({title:a,items:b.sort(f)})).sort((a,b)=>b.items.length-a.items.length)}(c))}catch(a){console.error(a),l("予定一覧の取得中にエラーが発生しました")}finally{j(!1)}}return((0,c.useEffect)(()=>{m()},[]),i)?(0,b.jsx)("div",{className:e.default.empty,children:"読み込み中..."}):k?(0,b.jsx)("div",{className:e.default.error,children:k}):(0,b.jsxs)("div",{className:e.default.list,children:[(0,b.jsx)("div",{className:e.default.listHeader,children:(0,b.jsx)("h2",{className:e.default.listTitle,children:"予定一覧（タイトル別）"})}),0===g.length?(0,b.jsx)("div",{className:e.default.empty,children:"予定がありません"}):(0,b.jsx)("div",{className:e.default.scheduleItems,children:g.map(c=>(0,b.jsxs)("article",{className:e.default.card,children:[(0,b.jsx)("div",{className:e.default.cardHeader,children:(0,b.jsxs)("div",{className:e.default.cardTitle,children:[c.title,(0,b.jsx)("div",{className:e.default.cardMeta,children:(0,b.jsxs)("span",{children:[c.items.length," 件"]})})]})}),(0,b.jsx)("ul",{children:c.items.map(c=>(0,b.jsxs)("li",{onDoubleClick:()=>{a.push(`/?focus=${encodeURIComponent(c.date)}`)},style:{cursor:"pointer"},title:"ダブルクリックでカレンダーに移動",children:[(0,b.jsx)("div",{className:`${e.default.cardMeta} ${e.default.nonInteractive}`,children:(0,b.jsxs)("span",{children:[c.date," ",c.startTime,c.endTime?` - ${c.endTime}`:""]})}),(0,b.jsxs)("div",{className:`${e.default.cardDescription} ${e.default.nonInteractive}`,children:[c.title?"":"（タイトルなし）",c.description||""]})]},c.id))})]},c.title))})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__e7794f47._.js.map