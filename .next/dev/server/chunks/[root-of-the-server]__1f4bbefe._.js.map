{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 9, "column": 0}, "map": {"version":3,"sources":["file:///home/kanata/calenderapp/node_modules/node-tesseract-ocr/src/index.js"],"sourcesContent":["const exec = require(\"child_process\").exec\nconst log = console.debug\n\n/**\n * @param input - URL, local image path or Buffer\n * @param config - any OCR options and control parameters\n * @returns default output format is text\n */\nfunction recognize(input, config = {}) {\n  const options = getOptions(config)\n  const binary = config.binary || \"tesseract\"\n  const isSingleLocalFile = typeof input === \"string\" && !input.match(/^https?:\\/\\//)\n  const inputOption = isSingleLocalFile ? `\"${input}\"` : \"stdin\"\n  const command = [binary, inputOption, \"stdout\", ...options].join(\" \")\n\n  if (config.debug) log(\"command\", command)\n\n  return new Promise((resolve, reject) => {\n    const child = exec(command, (error, stdout, stderr) => {\n      if (config.debug) log(stderr)\n      if (error) reject(error)\n      resolve(stdout)\n    })\n    if (inputOption === \"stdin\") pipeInput(input, child)\n  })\n}\n\nfunction pipeInput(input, child) {\n  if (typeof input === \"string\") {\n    const protocol = input.match(/^(.*?):/)[1]\n    return require(protocol).get(input, (response) => {\n      response.pipe(child.stdin)\n    })\n  }\n\n  if (Array.isArray(input)) input = Buffer.from(input.join(\"\\n\"), \"utf-8\")\n  child.stdin.write(input)\n  child.stdin.end()\n}\n\nfunction getOptions(config) {\n  const ocrOptions = [\"tessdata-dir\", \"user-words\", \"user-patterns\", \"psm\", \"oem\", \"dpi\"]\n\n  return Object.entries(config)\n    .map(([key, value]) => {\n      if ([\"debug\", \"presets\", \"binary\"].includes(key)) return\n      if (key === \"lang\") return `-l ${value}`\n      if (ocrOptions.includes(key)) return `--${key} ${value}`\n\n      return `-c ${key}=${value}`\n    })\n    .concat(config.presets) // options -l and --psm must occur before any CONFIGFILE\n    .filter(Boolean)\n}\n\nmodule.exports = {\n  recognize,\n}\n"],"names":[],"mappings":"AAAA,MAAM,OAAO,qFAAyB,IAAI;AAC1C,MAAM,MAAM,QAAQ,KAAK;AAEzB;;;;CAIC,GACD,SAAS,UAAU,KAAK,EAAE,SAAS,CAAC,CAAC;IACnC,MAAM,UAAU,WAAW;IAC3B,MAAM,SAAS,OAAO,MAAM,IAAI;IAChC,MAAM,oBAAoB,OAAO,UAAU,YAAY,CAAC,MAAM,KAAK,CAAC;IACpE,MAAM,cAAc,oBAAoB,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,GAAG;IACvD,MAAM,UAAU;QAAC;QAAQ;QAAa;WAAa;KAAQ,CAAC,IAAI,CAAC;IAEjE,IAAI,OAAO,KAAK,EAAE,IAAI,WAAW;IAEjC,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,QAAQ,KAAK,SAAS,CAAC,OAAO,QAAQ;YAC1C,IAAI,OAAO,KAAK,EAAE,IAAI;YACtB,IAAI,OAAO,OAAO;YAClB,QAAQ;QACV;QACA,IAAI,gBAAgB,SAAS,UAAU,OAAO;IAChD;AACF;AAEA,SAAS,UAAU,KAAK,EAAE,KAAK;IAC7B,IAAI,OAAO,UAAU,UAAU;QAC7B,MAAM,WAAW,MAAM,KAAK,CAAC,UAAU,CAAC,EAAE;QAC1C,OAAO;;;;aAAkB,GAAG,CAAC,OAAO,CAAC;YACnC,SAAS,IAAI,CAAC,MAAM,KAAK;QAC3B;IACF;IAEA,IAAI,MAAM,OAAO,CAAC,QAAQ,QAAQ,OAAO,IAAI,CAAC,MAAM,IAAI,CAAC,OAAO;IAChE,MAAM,KAAK,CAAC,KAAK,CAAC;IAClB,MAAM,KAAK,CAAC,GAAG;AACjB;AAEA,SAAS,WAAW,MAAM;IACxB,MAAM,aAAa;QAAC;QAAgB;QAAc;QAAiB;QAAO;QAAO;KAAM;IAEvF,OAAO,OAAO,OAAO,CAAC,QACnB,GAAG,CAAC,CAAC,CAAC,KAAK,MAAM;QAChB,IAAI;YAAC;YAAS;YAAW;SAAS,CAAC,QAAQ,CAAC,MAAM;QAClD,IAAI,QAAQ,QAAQ,OAAO,CAAC,GAAG,EAAE,OAAO;QACxC,IAAI,WAAW,QAAQ,CAAC,MAAM,OAAO,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,OAAO;QAExD,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,EAAE,OAAO;IAC7B,GACC,MAAM,CAAC,OAAO,OAAO,EAAE,wDAAwD;KAC/E,MAAM,CAAC;AACZ;AAEA,OAAO,OAAO,GAAG;IACf;AACF","ignoreList":[0]}}]
}