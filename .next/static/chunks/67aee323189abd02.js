(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78971,(e,l,t)=>{l.exports=e.r(37911)},676,e=>{e.v({button:"Schedule-module__I33aDW__button",buttonDanger:"Schedule-module__I33aDW__buttonDanger",buttonPrimary:"Schedule-module__I33aDW__buttonPrimary",buttonSecondary:"Schedule-module__I33aDW__buttonSecondary",buttons:"Schedule-module__I33aDW__buttons",card:"Schedule-module__I33aDW__card",cardBadge:"Schedule-module__I33aDW__cardBadge",cardCompleted:"Schedule-module__I33aDW__cardCompleted",cardDescription:"Schedule-module__I33aDW__cardDescription",cardHeader:"Schedule-module__I33aDW__cardHeader",cardMeta:"Schedule-module__I33aDW__cardMeta",cardTitle:"Schedule-module__I33aDW__cardTitle",checkbox:"Schedule-module__I33aDW__checkbox",colorOption:"Schedule-module__I33aDW__colorOption",colorPicker:"Schedule-module__I33aDW__colorPicker",empty:"Schedule-module__I33aDW__empty",error:"Schedule-module__I33aDW__error",form:"Schedule-module__I33aDW__form",formGroup:"Schedule-module__I33aDW__formGroup",input:"Schedule-module__I33aDW__input",label:"Schedule-module__I33aDW__label",list:"Schedule-module__I33aDW__list",listHeader:"Schedule-module__I33aDW__listHeader",listTitle:"Schedule-module__I33aDW__listTitle",nonInteractive:"Schedule-module__I33aDW__nonInteractive",required:"Schedule-module__I33aDW__required",scheduleItems:"Schedule-module__I33aDW__scheduleItems",select:"Schedule-module__I33aDW__select",selected:"Schedule-module__I33aDW__selected",textarea:"Schedule-module__I33aDW__textarea",timeRow:"Schedule-module__I33aDW__timeRow"})},29310,e=>{"use strict";var l=e.i(45802),t=e.i(71197),d=e.i(78971),a=e.i(676);function c(e,l){return(e.date+e.startTime).localeCompare(l.date+l.startTime)}function r(){let e=(0,d.useRouter)(),[r,u]=(0,t.useState)([]),[_,s]=(0,t.useState)(!0),[o,i]=(0,t.useState)(null);async function n(){s(!0),i(null);try{let e=await fetch("/api/schedules"),l=await e.json();if(!l?.success){i(l?.error||"予定の取得に失敗しました"),u([]);return}let t=l.data||[];u(function(e){let l=new Map;for(let t of e){let e=t.title||"(無題)",d=l.get(e)||[];d.push(t),l.set(e,d)}return Array.from(l.entries()).map(([e,l])=>({title:e,items:l.sort(c)})).sort((e,l)=>l.items.length-e.items.length)}(t))}catch(e){console.error(e),i("予定一覧の取得中にエラーが発生しました")}finally{s(!1)}}return((0,t.useEffect)(()=>{n()},[]),_)?(0,l.jsx)("div",{className:a.default.empty,children:"読み込み中..."}):o?(0,l.jsx)("div",{className:a.default.error,children:o}):(0,l.jsxs)("div",{className:a.default.list,children:[(0,l.jsx)("div",{className:a.default.listHeader,children:(0,l.jsx)("h2",{className:a.default.listTitle,children:"予定一覧（タイトル別）"})}),0===r.length?(0,l.jsx)("div",{className:a.default.empty,children:"予定がありません"}):(0,l.jsx)("div",{className:a.default.scheduleItems,children:r.map(t=>(0,l.jsxs)("article",{className:a.default.card,children:[(0,l.jsx)("div",{className:a.default.cardHeader,children:(0,l.jsxs)("div",{className:a.default.cardTitle,children:[t.title,(0,l.jsx)("div",{className:a.default.cardMeta,children:(0,l.jsxs)("span",{children:[t.items.length," 件"]})})]})}),(0,l.jsx)("ul",{children:t.items.map(t=>(0,l.jsxs)("li",{onDoubleClick:()=>{e.push(`/?focus=${encodeURIComponent(t.date)}`)},style:{cursor:"pointer"},title:"ダブルクリックでカレンダーに移動",children:[(0,l.jsx)("div",{className:`${a.default.cardMeta} ${a.default.nonInteractive}`,children:(0,l.jsxs)("span",{children:[t.date," ",t.startTime,t.endTime?` - ${t.endTime}`:""]})}),(0,l.jsxs)("div",{className:`${a.default.cardDescription} ${a.default.nonInteractive}`,children:[t.title?"":"（タイトルなし）",t.description||""]})]},t.id))})]},t.title))})]})}e.s(["default",()=>r])}]);